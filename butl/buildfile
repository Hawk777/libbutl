# file      : butl/buildfile
# copyright : Copyright (c) 2014-2016 Code Synthesis Ltd
# license   : MIT; see accompanying LICENSE file

lib{butl}:                         \
{hxx         cxx}{ base64        } \
{hxx         cxx}{ char-scanner  } \
{hxx            }{ export        } \
{hxx         cxx}{ fdstream      } \
{hxx ixx     cxx}{ filesystem    } \
{hxx            }{ multi-index   } \
{hxx            }{ optional      } \
{hxx         cxx}{ pager         } \
{hxx ixx txx cxx}{ path          } \
{hxx            }{ path-io       } \
{hxx            }{ path-map      } \
{hxx     txx    }{ prefix-map    } \
{hxx ixx     cxx}{ process       } \
{hxx         cxx}{ sha256        } \
{hxx     txx    }{ string-table  } \
{hxx         cxx}{ timestamp     } \
{hxx         cxx}{ triplet       } \
{hxx            }{ utility       } \
{hxx            }{ vector-view   } \
{hxx            }{ version       } \
{hxx         cxx}{ win32-utility }

# This one is included into sha256.cxx so treat it as file to exclude
# from the compilation.
#
lib{butl}: file{sha256c.c}

cxx.poptions =+ -I$src_root

lib{butl}: cxx.export.poptions = -I$src_root

liba{butl}: cxx.export.poptions += -DLIBBUTL_STATIC
libs{butl}: cxx.export.poptions += -DLIBBUTL_SHARED

obja{*}: cxx.poptions += -DLIBBUTL_STATIC_BUILD
objs{*}: cxx.poptions += -DLIBBUTL_SHARED_BUILD

# Install into the butl/ subdirectory of, say, /usr/include/.
#
install.include = $install.include/butl
