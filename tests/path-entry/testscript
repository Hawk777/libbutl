# file      : tests/path-entry/testscript
# license   : MIT; see accompanying LICENSE file

: existing
:
{
  : file
  :
  : Note that the newline character is translated into 2 characters being
  : printed on Windows. This why we exclude it, to get consistent behavior on
  : both POSIX and Windows.
  :
  cat <:'abc' >=f;
  $* f >>EOO
  regular
  3
  EOO

  : dir
  :
  : Note that the size value is meaningless for directory entries.
  :
  mkdir -p d;
  $* d >>~/EOO/
  directory
  /.
  EOO

  : followed-symlink
  :
  cat <:'abc' >=f;
  ln -s f l;
  $* -l l >>EOO
  regular
  3
  EOO
}

: non-existent
:
$* f == 1
